<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/template.xhtml">

	<ui:define name="title">Details film</ui:define>

	<ui:define name="head">
		<style type="text/css">
     .value {
        font-weight: bold;
    }
     
    .ui-carousel {
        margin-bottom: 20px;
    }
</style>
	</ui:define>

	<ui:define name="content">
		
		
		<h:form id="form">
    <p:carousel numVisible="1" effect="easeInStrong" headerText="#{movieBean.movie.title}" style="margin-bottom:0">
        <p:tab title="#{movieBean.movie.title}">
            <h:panelGrid columns="2" cellpadding="10">
                <p:graphicImage value="#{movieBean.movie.posterUrl}" />
                <h:form>
									<hr/>
									 <h:panelGrid>
                    <h:outputText value="#{msg['title']} :" />
                    <h:outputText value="#{movieBean.movie.title}" style="font-weight: bold"/>
                    <h:outputText value="#{msg['year']} :" />
                    <h:outputText value="#{movieBean.movie.productionYear}" style="font-weight: bold"/>
			
                </h:panelGrid>
               
									
									</h:form>
									
									
                <h:outputText
                    value="#{movieBean.movie.synopsis}" />
            </h:panelGrid>
        </p:tab>
    </p:carousel>
    </h:form>
  
    <h:panelGroup rendered="#{sessionScope.currentUser.role.name == 'User' }">
    <h:form>
    <h:outputLabel for="format" value="Format"/>
										<h:selectOneRadio id="format" styleClass="col-sm-6 col-md-5"
											value="#{movieBean.movieFormat.id}" required="true"
											requiredMessage="Vous devez choisir un format">
											<f:selectItems value="#{movieBean.moviesFormat}" var="mf"
											itemValue="#{mf.id}" itemLabel="#{mf.format.name}"/>	
																					
											<f:ajax listener="#{movieBean.initMovieFormat}" event="change" render="priceMessage" />																						
										</h:selectOneRadio>
				   						<h:message for="format" styleClass="text-danger"/>
										<h:outputText id="priceMessage" value="#{movieBean.movieFormat.price} â‚¬"/>
										<hr/>
										<h:commandButton value="#{msg['addToCart']}"
											 action="#{movieBean.addInCart}">
										</h:commandButton>
										 </h:form>
										  </h:panelGroup>
										  
										   
		<h:outputStylesheet name="css/layout-#{guestPreferences.layout}.css"
			library="barcelona-layout" />
		<h:outputStylesheet name="css/ripple.css" library="barcelona-layout" />
	</ui:define>

</ui:composition>
