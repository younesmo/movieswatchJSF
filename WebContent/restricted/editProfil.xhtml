<!DOCTYPE html>
<html lang="fr" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<meta charset="utf-8" />
	<title>Mettre à jour</title>
	<ui:include src="/WEB-INF/cssLoader.xhtml" />
	<ui:include src="/WEB-INF/navBar.xhtml" />
</h:head>
<h:body>

	<div class="container mt-5 pt-5">
		<h3 class="display-3 font-weight-bold">Vos informations</h3>
		<hr />
		<div class="row">
			<!-- left column -->
			<!-- edit form column -->
			<div class="col-md-9 personal-info">
				<h3>Mettez à jour vos données</h3>

				<h:form styleClass="form-horizontal">
					<div class="form-group">
						<h:outputLabel styleClass="col-lg-3 control-label" for="lastname">Nom:</h:outputLabel>
						<div class="col-lg-8">

							<h:inputText id="lastname" styleClass="form-control"
								value="#{editProfilBean.user.lastname}" size="20" maxlength="20">
								<f:ajax event="blur" render="lastnameMessage" />
							</h:inputText>
						</div>
						<h:message id="lastnameMessage" for="lastname"
							errorClass="text-danger" />
					</div>

					<div class="form-group">
						<h:outputLabel styleClass="col-lg-3 control-label" for="firstname">Prénom:</h:outputLabel>

						<div class="col-lg-8">
							<h:inputText id="firstname" styleClass="form-control"
								value="#{editProfilBean.user.firstname}" size="20"
								maxlength="20">
								<f:ajax event="blur" render="firstnameMessage" />
							</h:inputText>
						</div>
						<h:message id="firstnameMessage" for="firstname"
							errorClass="text-danger" />
					</div>

					<div class="form-group">
						<h:outputLabel styleClass="col-lg-3 control-label" for="street">Rue:</h:outputLabel>
						<div class="col-lg-8">
							<h:inputText id="street" styleClass="form-control"
								value="#{editProfilBean.user.streetName}">
								<f:ajax event="blur" render="streetMessage" />
							</h:inputText>
						</div>
						<h:message id="streetMessage" for="street"
							errorClass="text-danger" />
					</div>

					<div class="form-group">
						<h:outputLabel styleClass="col-lg-3 control-label" for="cp">Code postal:</h:outputLabel>
						<div class="col-lg-8">
							<h:inputText id="cp" styleClass="form-control"
								value="#{editProfilBean.cp.number}" size="20" maxlength="60">
								<f:ajax event="blur" render="cpMessage" />
								<f:validator validatorId="cpExistValidator" />
							</h:inputText>
						</div>
						<h:message id="cpMessage" for="cp" errorClass="text-danger" />
					</div>

					<div class="form-group">
						<h:outputLabel styleClass="col-lg-3 control-label" for="num">Numéro de téléphonne:</h:outputLabel>

						<div class="col-lg-8">
							<h:inputText id="num" styleClass="form-control"
								value="#{editProfilBean.user.mobileNumber}">
							</h:inputText>
						</div>
						<h:message id="numMessage" for="num" errorClass="text-danger" />
					</div>

					<div class="form-group">
						<h:outputLabel styleClass="col-lg-3 control-label" for="email">Email:</h:outputLabel>

						<div class="col-lg-8">
							<h:inputText id="email" styleClass="form-control"
								value="#{editProfilBean.user.email}" size="20" maxlength="60">
								<f:ajax event="blur" render="emailMessage" />
							</h:inputText>
						</div>
						<h:message id="emailMessage" for="email" errorClass="text-danger" />
					</div>

					<div class="form-group">
						<h:outputLabel styleClass="col-lg-3 control-label" for="birth">Date de naissance:</h:outputLabel>

						<div class="col-lg-8">
							<h:inputText id="birth" styleClass="form-control datepicker"
								value="#{editProfilBean.user.birthdate}">
								<f:convertDateTime pattern="yyyy-MM-dd" />
								<f:ajax event="blur" render="birthMessage" />
								<f:validator validatorId="ageValidator" />
							</h:inputText>
						</div>
						<h:message id="birthMessage" for="birth" errorClass="text-danger" />
					</div>

						<h:messages globalOnly="true" infoClass="text-success" />

					<div class="form-group">
						<label class="col-md-3 control-label"></label>
						<div class="col-md-8">
							<h:commandButton value="Sauvegarder"
								styleClass="btn btn-primary"
								action="#{editProfilBean.saveUser}">
							</h:commandButton>
						</div>
						
					</div>
				</h:form>
			</div>
		</div>
	</div>

	<ui:include src="/WEB-INF/footer.xhtml" />
</h:body>
</html>